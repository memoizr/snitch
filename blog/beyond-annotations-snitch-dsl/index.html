<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Beyond Annotations: Why Snitch&#x27;s DSL Approach Improves Code Readability | Snitch</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://memoizr.github.io/img/snitchlogo.png"><meta data-rh="true" name="twitter:image" content="https://memoizr.github.io/img/snitchlogo.png"><meta data-rh="true" property="og:url" content="https://memoizr.github.io/blog/beyond-annotations-snitch-dsl"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Beyond Annotations: Why Snitch&#x27;s DSL Approach Improves Code Readability | Snitch"><meta data-rh="true" name="description" content="When examining modern web frameworks, one pattern appears consistently: the heavy use of annotations to configure behavior. From Spring&#x27;s @RequestMapping to JAX-RS&#x27;s @Path, annotations have become the standard way to define routes, validation, and more. But Snitch takes a different approach with its expressive DSL. Here&#x27;s why that matters for your codebase."><meta data-rh="true" property="og:description" content="When examining modern web frameworks, one pattern appears consistently: the heavy use of annotations to configure behavior. From Spring&#x27;s @RequestMapping to JAX-RS&#x27;s @Path, annotations have become the standard way to define routes, validation, and more. But Snitch takes a different approach with its expressive DSL. Here&#x27;s why that matters for your codebase."><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2021-04-15T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/memoizr/snitch"><meta data-rh="true" property="article:tag" content="Snitch,DSL,Code Quality,Kotlin"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://memoizr.github.io/blog/beyond-annotations-snitch-dsl"><link data-rh="true" rel="alternate" href="https://memoizr.github.io/blog/beyond-annotations-snitch-dsl" hreflang="en"><link data-rh="true" rel="alternate" href="https://memoizr.github.io/blog/beyond-annotations-snitch-dsl" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://memoizr.github.io/blog/beyond-annotations-snitch-dsl","mainEntityOfPage":"https://memoizr.github.io/blog/beyond-annotations-snitch-dsl","url":"https://memoizr.github.io/blog/beyond-annotations-snitch-dsl","headline":"Beyond Annotations: Why Snitch's DSL Approach Improves Code Readability","name":"Beyond Annotations: Why Snitch's DSL Approach Improves Code Readability","description":"When examining modern web frameworks, one pattern appears consistently: the heavy use of annotations to configure behavior. From Spring's @RequestMapping to JAX-RS's @Path, annotations have become the standard way to define routes, validation, and more. But Snitch takes a different approach with its expressive DSL. Here's why that matters for your codebase.","datePublished":"2021-04-15T00:00:00.000Z","author":{"@type":"Person","name":"Snitch Team","description":"Snitch Framework Maintainers","url":"https://github.com/memoizr/snitch","image":"https://github.com/memoizr.png"},"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://memoizr.github.io/blog","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Snitch RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Snitch Atom Feed"><link rel="stylesheet" href="/assets/css/styles.906ce93e.css">
<script src="/assets/js/runtime~main.06938b8a.js" defer="defer"></script>
<script src="/assets/js/main.48b0cfc7.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="https://github.com/memoizr.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">Snitch</b></a><a class="navbar__item navbar__link" href="/docs/Docs">Documentation</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/memoizr/snitch" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><div role="group"><h3 class="yearGroupHeading_rMGB">2024</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/automatic-api-docs-with-snitch">Never Write API Docs Again: Snitch&#x27;s Zero-Effort Documentation</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/spring-boot-vs-snitch">Spring Boot vs Snitch: A Comprehensive Comparison for Modern API Development</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2023</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/typesafe-validation-with-snitch">Type-Safe Validation: Turning Runtime Errors into Compile-Time Safety</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/expressivity-and-scaling-with-snitch">Expressive Code at Scale: How Snitch Transforms API Development</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2022</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/migrating-from-spring-to-snitch">Migration Guide: From Spring Boot to Snitch</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/the-inspiration-behind-snitch">The Inspiration Behind Snitch - Borrowing from the Best</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/unlocking-advanced-web-apis-with-snitch">Unlocking Advanced Web APIs with Snitch</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_rMGB">2021</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/lightweight-microservices-with-snitch">Building Lightweight Microservices with Snitch</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/blog/beyond-annotations-snitch-dsl">Beyond Annotations: Why Snitch&#x27;s DSL Approach Improves Code Readability</a></li></ul></div></nav></aside><main class="col col--7"><article class=""><header><h1 class="title_f1Hy">Beyond Annotations: Why Snitch&#x27;s DSL Approach Improves Code Readability</h1><div class="container_mt6G margin-vert--md"><time datetime="2021-04-15T00:00:00.000Z">April 15, 2021</time> · <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a class="avatar__photo-link" href="/blog/authors/snitch-team"><img class="avatar__photo authorImage_XqGP" src="https://github.com/memoizr.png" alt="Snitch Team"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="/blog/authors/snitch-team"><span class="authorName_yefp">Snitch Team</span></a></div><small class="authorTitle_nd0D" title="Snitch Framework Maintainers">Snitch Framework Maintainers</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div id="__blog-post-container" class="markdown"><p>When examining modern web frameworks, one pattern appears consistently: the heavy use of annotations to configure behavior. From Spring&#x27;s <code>@RequestMapping</code> to JAX-RS&#x27;s <code>@Path</code>, annotations have become the standard way to define routes, validation, and more. But Snitch takes a different approach with its expressive DSL. Here&#x27;s why that matters for your codebase.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-problem-with-annotation-overload">The Problem with Annotation Overload<a href="#the-problem-with-annotation-overload" class="hash-link" aria-label="Direct link to The Problem with Annotation Overload" title="Direct link to The Problem with Annotation Overload">​</a></h2>
<p>Annotations are undeniably convenient - they let you attach metadata to your code without affecting its execution flow. However, as applications grow in complexity, annotation-heavy code creates several challenges:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@RestController</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@RequestMapping(&quot;/api/users&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">public class UserController {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @GetMapping(&quot;/{id}&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @Operation(summary = &quot;Get user by ID&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @ApiResponses({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        @ApiResponse(responseCode = &quot;200&quot;, description = &quot;User found&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        @ApiResponse(responseCode = &quot;404&quot;, description = &quot;User not found&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    public ResponseEntity&lt;User&gt; getUser(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        @PathVariable(&quot;id&quot;) @Min(1) Long id,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        @RequestHeader(required = false) String authorization</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        // Actual business logic is buried under annotations</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return userService.findById(id)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .map(ResponseEntity::ok)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            .orElse(ResponseEntity.notFound().build());</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The issues with this approach include:</p>
<ol>
<li><strong>Signal-to-noise ratio</strong> - The actual business logic gets buried under layers of configuration</li>
<li><strong>Scattered information</strong> - Related functionality is spread across multiple annotations</li>
<li><strong>Limited composition</strong> - Annotations can&#x27;t be easily combined or reused</li>
<li><strong>Runtime discovery</strong> - Annotation errors are only found at runtime</li>
<li><strong>Limited expressiveness</strong> - Annotations can&#x27;t express complex relationships easily</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="snitchs-dsl-code-that-reads-like-intent">Snitch&#x27;s DSL: Code That Reads Like Intent<a href="#snitchs-dsl-code-that-reads-like-intent" class="hash-link" aria-label="Direct link to Snitch&#x27;s DSL: Code That Reads Like Intent" title="Direct link to Snitch&#x27;s DSL: Code That Reads Like Intent">​</a></h2>
<p>Snitch&#x27;s DSL approach shifts the focus from decorating methods to describing intent:</p>
<div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">val</span><span class="token plain"> userId </span><span class="token keyword" style="color:#00009f">by</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ofLong</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">routes </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;api&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;users&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">GET</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">userId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> isHandledBy </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            userService</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">findById</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">request</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">userId</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token operator" style="color:#393A34">?</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ok</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token operator" style="color:#393A34">?:</span><span class="token plain"> </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;User not found&quot;</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">notFound</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This approach offers several readability advantages:</p>
<ol>
<li><strong>Hierarchical organization</strong> - The route structure is visually apparent</li>
<li><strong>Explicit parameters</strong> - Parameters are defined and referenced explicitly</li>
<li><strong>Natural language flow</strong> - Infix functions like <code>isHandledBy</code> create readable sentences</li>
<li><strong>Visual distinction</strong> - HTTP methods stand out, making API surface clear at a glance</li>
<li><strong>Focused handlers</strong> - Business logic stands out rather than being buried in configuration</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="structure-that-mirrors-your-api">Structure That Mirrors Your API<a href="#structure-that-mirrors-your-api" class="hash-link" aria-label="Direct link to Structure That Mirrors Your API" title="Direct link to Structure That Mirrors Your API">​</a></h2>
<p>One of the most powerful aspects of Snitch&#x27;s DSL is how the code structure visually represents the API structure:</p>
<div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">routes </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;api&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;v1&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;users&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token function" style="color:#d73a49">GET</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> isHandledBy getAllUsers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token function" style="color:#d73a49">POST</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> with userBody isHandledBy createUser</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                userId </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token function" style="color:#d73a49">GET</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> isHandledBy getUser</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token function" style="color:#d73a49">PUT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> with userBody isHandledBy updateUser</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token function" style="color:#d73a49">DELETE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> isHandledBy deleteUser</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;posts&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token function" style="color:#d73a49">GET</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> isHandledBy getUserPosts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The nested structure creates a visual map of your API. You can immediately see that <code>/api/v1/users/{userId}/posts</code> is a valid endpoint without tracing through multiple class files or annotations.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="composition-over-configuration">Composition Over Configuration<a href="#composition-over-configuration" class="hash-link" aria-label="Direct link to Composition Over Configuration" title="Direct link to Composition Over Configuration">​</a></h2>
<p>Unlike annotations, which are static metadata, Snitch&#x27;s DSL enables powerful composition:</p>
<div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Define reusable route groups</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">val</span><span class="token plain"> userRoutes </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> routes </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">GET</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">userId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> isHandledBy getUser</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">PUT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">userId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> with userBody isHandledBy updateUser</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">DELETE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">userId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> isHandledBy deleteUser</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">val</span><span class="token plain"> postRoutes </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> routes </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">GET</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">postId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> isHandledBy getPost</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">PUT</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">postId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> with postBody isHandledBy updatePost</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">DELETE</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">postId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> isHandledBy deletePost</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Compose them into a complete API</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">val</span><span class="token plain"> apiRoutes </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> routes </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;users&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">GET</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> isHandledBy getAllUsers</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">POST</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> with userBody isHandledBy createUser</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        userId </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> userRoutes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;posts&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">GET</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> isHandledBy getAllPosts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token function" style="color:#d73a49">POST</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> with postBody isHandledBy createPost</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        postId </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> postRoutes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This composability makes your code more modular and reusable, without sacrificing readability.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-power-of-infix-functions">The Power of Infix Functions<a href="#the-power-of-infix-functions" class="hash-link" aria-label="Direct link to The Power of Infix Functions" title="Direct link to The Power of Infix Functions">​</a></h2>
<p>Kotlin&#x27;s infix functions are a key enabler of Snitch&#x27;s readable DSL:</p>
<div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">GET</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal singleline string" style="color:#e3116c">&quot;users&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> userId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">withQueries</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">limit</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> offset</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> onlyIf hasAdminRole isHandledBy getUser</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This reads almost like English -</p>
<p><code>GET users/{userId} with queries limit and offset, only if user has admin role, is handled by getUser function.</code></p>
<p>The infix approach creates a clear flow from HTTP method to path to conditions to handler, making the intent immediately clear even to developers new to the codebase.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion-dsls-as-documentation">Conclusion: DSLs as Documentation<a href="#conclusion-dsls-as-documentation" class="hash-link" aria-label="Direct link to Conclusion: DSLs as Documentation" title="Direct link to Conclusion: DSLs as Documentation">​</a></h2>
<p>Perhaps the greatest benefit of Snitch&#x27;s DSL approach is that your code becomes its own documentation. New team members can quickly understand the API surface, routing logic, and authorization rules by simply reading the route definitions.</p>
<p>While annotations have their place, a well-designed DSL can dramatically improve code readability and maintainability, especially for complex HTTP APIs. By making the structure explicit and the intent clear, Snitch helps you build APIs that are not only powerful but also a joy to work with.</p>
<p>Next time you find yourself wading through layers of annotations trying to understand an API&#x27;s structure, remember there&#x27;s a more expressive alternative available.</p></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a title="Posts about the Snitch HTTP framework for Kotlin" class="tag_zVej tagRegular_sFm0" href="/blog/tags/snitch">Snitch</a></li><li class="tag_QGVx"><a title="Articles about Domain Specific Languages and their applications" class="tag_zVej tagRegular_sFm0" href="/blog/tags/dsl">DSL</a></li><li class="tag_QGVx"><a title="Articles about improving code readability, maintainability, and quality" class="tag_zVej tagRegular_sFm0" href="/blog/tags/code-quality">Code Quality</a></li><li class="tag_QGVx"><a title="Posts about the Kotlin programming language and its ecosystem" class="tag_zVej tagRegular_sFm0" href="/blog/tags/kotlin">Kotlin</a></li></ul></div></div><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><a href="https://github.com/memoizr/snitch/tree/main/guides/blog/2021-04-15-beyond-annotations-snitch-dsl.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/lightweight-microservices-with-snitch"><div class="pagination-nav__sublabel">Newer post</div><div class="pagination-nav__label">Building Lightweight Microservices with Snitch</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#the-problem-with-annotation-overload" class="table-of-contents__link toc-highlight">The Problem with Annotation Overload</a></li><li><a href="#snitchs-dsl-code-that-reads-like-intent" class="table-of-contents__link toc-highlight">Snitch&#39;s DSL: Code That Reads Like Intent</a></li><li><a href="#structure-that-mirrors-your-api" class="table-of-contents__link toc-highlight">Structure That Mirrors Your API</a></li><li><a href="#composition-over-configuration" class="table-of-contents__link toc-highlight">Composition Over Configuration</a></li><li><a href="#the-power-of-infix-functions" class="table-of-contents__link toc-highlight">The Power of Infix Functions</a></li><li><a href="#conclusion-dsls-as-documentation" class="table-of-contents__link toc-highlight">Conclusion: DSLs as Documentation</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/Docs">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/tutorials/Mastering-Snitch-Conditions">Tutorials</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/memoizr/snitch" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Snitch. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>